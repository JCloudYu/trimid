#!/usr/bin/env node
"use strict";!function(){var e=new Uint8Array([197,157,28,129]),r="undefined"!=typeof Buffer,t=4294967296,n={SEQ:Math.floor(16777215*Math.random()),SID:null,MACHINE_ID:null};if(r){var o=require("worker_threads");n.MACHINE_ID=g(h(require("os").hostname()));var i="".concat(process.pid.toString().padStart(5,"0"),"#").concat(process.ppid.toString().padStart(5,"0"),".")+(o.isMainThread?1:o.threadId).toString().padStart(5,"0");n.SID=g(h(i))}else{var a="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWZYZ_-",f="";if("object"==typeof location&&"string"==typeof location.hostname)f=location.hostname;else for(var u=30*Math.random()+30;u-- >0;)f+=a[Math.random()*a.length|0];var s="";for(u=30*Math.random()+30;u-- >0;)s+=a[Math.random()*a.length|0];n.MACHINE_ID=g(h(f)),n.SID=g(h(s))}var d=new WeakMap,l=function(){function e(r){var o=null;r instanceof e?o=d.get(r).buffer:r instanceof Uint8Array?o=r:ArrayBuffer.isView(r)?o=new Uint8Array(r.buffer):r instanceof ArrayBuffer&&(o=new Uint8Array(r));var i=null;if(o){if(o.length<16)throw new TypeError("Given input buffer must be at least 14 bytes long!");i=new Uint8Array(o.slice(0,16))}else{var a=void 0;if("number"==typeof r){if(r<0)throw new RangeError("Input number must be greater or equal to 0");a=Math.floor(r)}else a=Math.floor(Date.now()/1e3);var f=Math.floor(a/t),u=a%t,s=n.SEQ=n.SEQ+1&16777215,l=new Uint8Array(16);l[0]=255&f,l[1]=u>>>24&255,l[2]=u>>>16&255,l[3]=u>>>8&255,l[4]=255&u,l[5]=n.MACHINE_ID[0],l[6]=n.MACHINE_ID[1],l[7]=n.MACHINE_ID[2],l[8]=n.MACHINE_ID[3],l[9]=n.SID[0],l[10]=n.SID[1],l[11]=n.SID[2],l[12]=n.SID[3],l[13]=s>>>16&255,l[14]=s>>>8&255,l[15]=255&s,i=l}var c=Object.create(null);c.buffer=i,d.set(this,c)}return e._base=function(e,r){"string"==typeof e&&(n.MACHINE_ID=g(h(e))),"string"==typeof r&&(n.SID=g(h(r)))},e.prototype.toString=function(){return function(e){if(e.length<1)return"";for(var r,t="",n=Math.floor(e.length/5),o=0;o<n;o++)t+=c[e[r=5*o]>>3],t+=c[(7&e[r])<<2|e[r+1]>>6],t+=c[(62&e[r+1])>>1],t+=c[(1&e[r+1])<<4|e[r+2]>>4],t+=c[(15&e[r+2])<<1|e[r+3]>>7],t+=c[(124&e[r+3])>>2],t+=c[(3&e[r+3])<<3|e[r+4]>>5],t+=c[31&e[r+4]];var i=e.length%5;if(0===i)return t;r=5*n,1===i?(t+=c[e[r]>>3],t+=c[(7&e[r])<<2]):2===i?(t+=c[e[r]>>3],t+=c[(7&e[r])<<2|e[r+1]>>6],t+=c[(62&e[r+1])>>1],t+=c[(1&e[r+1])<<4]):3===i?(t+=c[e[r]>>3],t+=c[(7&e[r])<<2|e[r+1]>>6],t+=c[(62&e[r+1])>>1],t+=c[(1&e[r+1])<<4|e[r+2]>>4],t+=c[(15&e[r+2])<<1]):4===i&&(t+=c[e[r]>>3],t+=c[(7&e[r])<<2|e[r+1]>>6],t+=c[(62&e[r+1])>>1],t+=c[(1&e[r+1])<<4|e[r+2]>>4],t+=c[(15&e[r+2])<<1|e[r+3]>>7],t+=c[(124&e[r+3])>>2],t+=c[(3&e[r+3])<<3]);return t}(d.get(this).buffer)},Object.defineProperty(e.prototype,"bytes",{get:function(){return d.get(this).buffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timestamp",{get:function(){var e=d.get(this).buffer;return e[0]*t+((e[1]<<24|e[2]<<16|e[3]<<8|e[4])>>>0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"machine_id",{get:function(){var e=d.get(this).buffer;return(e[5]<<24|e[6]<<16|e[7]<<8|e[8])>>>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"session_id",{get:function(){var e=d.get(this).buffer;return(e[9]<<24|e[10]<<16|e[11]<<8|e[12])>>>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seq",{get:function(){var e=d.get(this).buffer;return(e[13]<<16|e[14]<<8|e[15])>>>0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"NEW",{get:function(){return new e},enumerable:!1,configurable:!0}),e.from=function(r){try{return"string"==typeof r&&(r=function(e){var r=e.length%8;if([0,2,4,5,7].indexOf(r)<0)throw new Error("Given input string is not base32hex encoded!");for(var t,n,o=new Uint8Array(Math.floor(5*e.length/8)),i=Math.floor(e.length/8),a=0;a<i;a++){t=5*a;var f=p[e[n=8*a]],u=p[e[n+1]],s=p[e[n+2]],d=p[e[n+3]],l=p[e[n+4]],c=p[e[n+5]],h=p[e[n+6]],g=p[e[n+7]];if(void 0===f||void 0===u||void 0===s||void 0===d||void 0===l||void 0===c||void 0===h||void 0===g)throw new RangeError("Given input string is not base32hex encoded!");o[t]=f<<3|u>>2,o[t+1]=(3&u)<<6|s<<1|d>>4,o[t+2]=(15&d)<<4|l>>1,o[t+3]=(1&l)<<7|c<<2|h>>3,o[t+4]=(7&h)<<5|g}if(0===r)return o;t=5*i;f=p[e[n=8*i]],u=p[e[n+1]],s=p[e[n+2]],d=p[e[n+3]],l=p[e[n+4]],c=p[e[n+5]],h=p[e[n+6]];if(r>=2){if(void 0===f||void 0===u)throw new RangeError("Given input string is not base32hex encoded!");o[t]=f<<3|u>>2}if(r>=4){if(void 0===s||void 0===d)throw new RangeError("Given input string is not base32hex encoded!");o[t+1]=(3&u)<<6|s<<1|d>>4}if(r>=5){if(void 0===l)throw new RangeError("Given input string is not base32hex encoded!");o[t+2]=(15&d)<<4|l>>1}if(7===r){if(void 0===c||void 0===h)throw new RangeError("Given input string is not base32hex encoded!");o[t+3]=(1&l)<<7|c<<2|h>>3}return o}(r)),new e(r)}catch(e){return null}},e}(),c="0123456789abcdefghijklmnopqrstuv".split(""),p={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,a:10,b:11,c:12,d:13,e:14,f:15,g:16,h:17,i:18,j:19,k:20,l:21,m:22,n:23,o:24,p:25,q:26,r:27,s:28,t:29,u:30,v:31};function h(e){if("string"!=typeof e)throw new TypeError("Given input argument must be a js string!");for(var r=[],t=0;t<e.length;){var n=e.codePointAt(t);if(void 0===n)throw new Error("Invalid codepoint at index#".concat(t,"!"));0==(4294967168&n)?r.push(n):0==(4294965248&n)?r.push(192|31&n>>6,128|63&n):0==(4294901760&n)?r.push(224|15&n>>12,128|63&n>>6,128|63&n):0==(4292870144&n)&&r.push(240|7&n>>18,128|63&n>>12,128|63&n>>6,128|63&n),t+=n>65535?2:1}return new Uint8Array(r)}function g(r){for(var t=e.slice(0),n=new Uint32Array(t.buffer),o=new Uint16Array(t.buffer),i=0;i<r.length;i+=1){n[0]=n[0]^r[i];var a=o[0],f=o[1];o[0]=403*a,o[1]=256*a+403*f+(o[0]>>>16)}return t}if("undefined"!=typeof require&&require.main===module){for(var v=process.argv.slice(2).reverse(),b={help:!1,binary:!1};v.length>0;){switch(v.pop()){case"--help":b.help=!0;break;case"--binary":b.binary=!0}}if(b.help)return console.log("trimid [--binary]"),void process.exit(1);var y=l.NEW;return b.binary?process.stdout.write(y.bytes):process.stdout.write(y.toString()+"\n"),void process.exit(0)}"undefined"==typeof module||Object(module)!==module?"undefined"==typeof global?"undefined"==typeof window||(window.TrimId=l):global.TrimId=l:module.exports=l}();
