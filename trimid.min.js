!function(){"use strict";var e=new Uint8Array([197,157,28,129]),r="undefined"!=typeof Buffer,t=4294967296,n={SEQ:Math.floor(16777215*Math.random()),SID:null,MACHINE_ID:null};if(r){var o=require("worker_threads");n.MACHINE_ID=y(w(require("os").hostname()));var i=process.pid.toString().padStart(5,"0")+"#"+process.ppid.toString().padStart(5,"0")+"."+(o.isMainThread?1:o.threadId).toString().padStart(5,"0");n.SID=y(w(i))}else{var a="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWZYZ_-",s="";if("object"==typeof location&&"string"==typeof location.hostname)s=location.hostname;else for(var u=30*Math.random()+30;u-- >0;)s+=a[Math.random()*a.length|0];var f="";for(u=30*Math.random()+30;u-- >0;)f+=a[Math.random()*a.length|0];n.MACHINE_ID=y(w(s)),n.SID=y(w(f))}var d=new WeakMap,c=function(){function e(r){var o=null;r instanceof e?o=d.get(r).buffer:r instanceof Uint8Array?o=r:ArrayBuffer.isView(r)?o=new Uint8Array(r.buffer):r instanceof ArrayBuffer&&(o=new Uint8Array(r));var i=null;if(o){if(o.length<16)throw new TypeError("Given input buffer must be at least 14 bytes long!");i=new Uint8Array(o.slice(0,16))}else{var a=void 0;if("number"==typeof r){if(r<0)throw new RangeError("Input number must be greater or equal to 0");a=Math.floor(r)}else a=Math.floor(Date.now()/1e3);var s=Math.floor(a/t),u=a%t,f=n.SEQ=n.SEQ+1&16777215,c=new Uint8Array(16);c[0]=255&s,c[1]=u>>>24&255,c[2]=u>>>16&255,c[3]=u>>>8&255,c[4]=255&u,c[5]=n.MACHINE_ID[0],c[6]=n.MACHINE_ID[1],c[7]=n.MACHINE_ID[2],c[8]=n.MACHINE_ID[3],c[9]=n.SID[0],c[10]=n.SID[1],c[11]=n.SID[2],c[12]=n.SID[3],c[13]=f>>>16&255,c[14]=f>>>8&255,c[15]=255&f,i=c}var h=Object.create(null);h.buffer=i,d.set(this,h)}return e.prototype.toString=function(e){void 0===e&&(e=32);var r=d.get(this).buffer;switch(e){case 64:return function(e){for(var r,t,n,o="",i=e.length,a=0,s=3*(i/3>>>0);a<s;)r=e[a++],t=e[a++],n=e[a++],o+=v[r>>>2]+v[63&(r<<4|t>>>4)]+v[63&(t<<2|n>>>6)]+v[63&n];var u=i-s;1===u?(r=e[a],o+=v[r>>>2]+v[r<<4&63]+""):2===u&&(r=e[a++],t=e[a],o+=v[r>>>2]+v[63&(r<<4|t>>>4)]+v[t<<2&63]+"");return o}(r);case 32:return function(e){if(e.length<1)return"";for(var r,t="",n=Math.floor(e.length/5),o=0;o<n;o++)t+=b[e[r=5*o]>>3],t+=b[(7&e[r])<<2|e[r+1]>>6],t+=b[(62&e[r+1])>>1],t+=b[(1&e[r+1])<<4|e[r+2]>>4],t+=b[(15&e[r+2])<<1|e[r+3]>>7],t+=b[(124&e[r+3])>>2],t+=b[(3&e[r+3])<<3|e[r+4]>>5],t+=b[31&e[r+4]];var i=e.length%5;if(0===i)return t;r=5*n,1===i?(t+=b[e[r]>>3],t+=b[(7&e[r])<<2]):2===i?(t+=b[e[r]>>3],t+=b[(7&e[r])<<2|e[r+1]>>6],t+=b[(62&e[r+1])>>1],t+=b[(1&e[r+1])<<4]):3===i?(t+=b[e[r]>>3],t+=b[(7&e[r])<<2|e[r+1]>>6],t+=b[(62&e[r+1])>>1],t+=b[(1&e[r+1])<<4|e[r+2]>>4],t+=b[(15&e[r+2])<<1]):4===i&&(t+=b[e[r]>>3],t+=b[(7&e[r])<<2|e[r+1]>>6],t+=b[(62&e[r+1])>>1],t+=b[(1&e[r+1])<<4|e[r+2]>>4],t+=b[(15&e[r+2])<<1|e[r+3]>>7],t+=b[(124&e[r+3])>>2],t+=b[(3&e[r+3])<<3]);return t}(r);case 16:return function(e){for(var r="",t=0;t<e.length;t++){var n=e[t];r+=h[(240&n)>>>4]+h[15&n]}return r}(r);default:throw new SyntaxError("Cannot cast unique-id into `"+e+"`")}},e.prototype.toJSON=function(){return this.toString()},e.prototype.toBytes=function(){return d.get(this).buffer.slice(0)},Object.defineProperty(e.prototype,"bytes",{get:function(){return d.get(this).buffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timestamp",{get:function(){var e=d.get(this).buffer;return e[0]*t+((e[1]<<24|e[2]<<16|e[3]<<8|e[4])>>>0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"machine_id",{get:function(){var e=d.get(this).buffer;return(e[5]<<24|e[6]<<16|e[7]<<8|e[8])>>>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"session_id",{get:function(){var e=d.get(this).buffer;return(e[9]<<24|e[10]<<16|e[11]<<8|e[12])>>>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seq",{get:function(){var e=d.get(this).buffer;return(e[13]<<16|e[14]<<8|e[15])>>>0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"NEW",{get:function(){return new e},enumerable:!1,configurable:!0}),e.from=function(r){try{return new e(r)}catch(e){return null}},e.fromHex=function(r){try{return new e(function(e){e.length%2==1&&(e="0"+e);for(var r=new Uint8Array(e.length/2|0),t=0;t<r.length;t++){var n=2*t,o=l[e[n]],i=l[e[n+1]];if(void 0===o||void 0===i)throw new RangeError("Given input string is not hex encoded!");r[t]=o<<4|15&i}return r}(r))}catch(e){return null}},e.fromBase64Sort=function(r){try{return new e(function(e){var r,t=(e=""+e).length,n=t%4;switch(n){case 0:r=3*(t/4|0);break;case 2:r=3*(t/4|0)+1;break;case 3:r=3*(t/4|0)+2;break;default:throw new Error("Given input string is not base64sort encoded!")}var o,i,a,s,u=new Uint8Array(r),f=0,d=0,c=4*(t/4|0);for(;f<c;){if(o=p[e[f++]],i=p[e[f++]],a=p[e[f++]],s=p[e[f++]],void 0===o||void 0===i||void 0===a||void 0===s)throw new Error("Given input string is not base64sort encoded!");u[d++]=o<<2|i>>>4,u[d++]=i<<4|a>>>2,u[d++]=a<<6|s}switch(n){case 2:if(o=p[e.charAt(f++)],i=p[e.charAt(f)],void 0===o||void 0===i)throw new Error("Given input string is not base64sort encoded!");u[d]=o<<2|i>>>4;break;case 3:if(o=p[e.charAt(f++)],i=p[e.charAt(f++)],a=p[e.charAt(f)],void 0===o||void 0===i||void 0===a)throw new Error("Given input string is not base64sort encoded!");u[d]=o<<2|i>>>4,u[d+1]=i<<4|a>>>2}return u}(r))}catch(e){return null}},e.fromBase32Hex=function(r){try{return new e(function(e){var r=e.length%8;if([0,2,4,5,7].indexOf(r)<0)throw new Error("Given input string is not base32hex encoded!");for(var t,n,o=new Uint8Array(Math.floor(5*e.length/8)),i=Math.floor(e.length/8),a=0;a<i;a++){t=5*a;var s=g[e[n=8*a]],u=g[e[n+1]],f=g[e[n+2]],d=g[e[n+3]],c=g[e[n+4]],h=g[e[n+5]],l=g[e[n+6]],v=g[e[n+7]];if(void 0===s||void 0===u||void 0===f||void 0===d||void 0===c||void 0===h||void 0===l||void 0===v)throw new RangeError("Given input string is not base32hex encoded!");o[t]=s<<3|u>>2,o[t+1]=(3&u)<<6|f<<1|d>>4,o[t+2]=(15&d)<<4|c>>1,o[t+3]=(1&c)<<7|h<<2|l>>3,o[t+4]=(7&l)<<5|v}if(0===r)return o;t=5*i;s=g[e[n=8*i]],u=g[e[n+1]],f=g[e[n+2]],d=g[e[n+3]],c=g[e[n+4]],h=g[e[n+5]],l=g[e[n+6]];if(r>=2){if(void 0===s||void 0===u)throw new RangeError("Given input string is not base32hex encoded!");o[t]=s<<3|u>>2}if(r>=4){if(void 0===f||void 0===d)throw new RangeError("Given input string is not base32hex encoded!");o[t+1]=(3&u)<<6|f<<1|d>>4}if(r>=5){if(void 0===c)throw new RangeError("Given input string is not base32hex encoded!");o[t+2]=(15&d)<<4|c>>1}if(7===r){if(void 0===h||void 0===l)throw new RangeError("Given input string is not base32hex encoded!");o[t+3]=(1&c)<<7|h<<2|l>>3}return o}(r))}catch(e){return null}},e}(),h="0123456789abcdef",l={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};var v="0123456789=ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".split(""),p={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,"=":10,A:11,B:12,C:13,D:14,E:15,F:16,G:17,H:18,I:19,J:20,K:21,L:22,M:23,N:24,O:25,P:26,Q:27,R:28,S:29,T:30,U:31,V:32,W:33,X:34,Y:35,Z:36,_:37,a:38,b:39,c:40,d:41,e:42,f:43,g:44,h:45,i:46,j:47,k:48,l:49,m:50,n:51,o:52,p:53,q:54,r:55,s:56,t:57,u:58,v:59,w:60,x:61,y:62,z:63};var b="0123456789abcdefghijklmnopqrstuv".split(""),g={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,a:10,b:11,c:12,d:13,e:14,f:15,g:16,h:17,i:18,j:19,k:20,l:21,m:22,n:23,o:24,p:25,q:26,r:27,s:28,t:29,u:30,v:31};function w(e){if("string"!=typeof e)throw new TypeError("Given input argument must be a js string!");for(var r=[],t=0;t<e.length;){var n=e.codePointAt(t);if(void 0===n)throw new Error("Invalid codepoint at index#"+t+"!");0==(4294967168&n)?r.push(n):0==(4294965248&n)?r.push(192|31&n>>6,128|63&n):0==(4294901760&n)?r.push(224|15&n>>12,128|63&n>>6,128|63&n):0==(4292870144&n)&&r.push(240|7&n>>18,128|63&n>>12,128|63&n>>6,128|63&n),t+=n>65535?2:1}return new Uint8Array(r)}function y(r){for(var t=e.slice(0),n=new Uint32Array(t.buffer),o=new Uint16Array(t.buffer),i=0;i<r.length;i+=1){n[0]=n[0]^r[i];var a=o[0],s=o[1];o[0]=403*a,o[1]=256*a+403*s+(o[0]>>>16)}return t}if("undefined"!=typeof require&&require.main===module){for(var m=process.argv.slice(2).reverse(),E={help:!1,binary:!1,base64sort:!1,base32hex:!1,hex:!1};m.length>0;){switch(m.pop()){case"--help":E.help=!0;break;case"--binary":E.binary=!0;break;case"--b64sort":E.base64sort=!0;break;case"--b32hex":E.base32hex=!0;break;case"--hex":E.hex=!0}}if(E.help)return console.log("trimid [--b64sort] [--binary] [--hex]"),void process.exit(1);var A=c.NEW;return E.base64sort?process.stdout.write(A.toString(64)+"\n"):E.hex?process.stdout.write(A.toString(16)+"\n"):E.binary?process.stdout.write(A.bytes):process.stdout.write(A.toString(32)+"\n"),void process.exit(0)}"undefined"==typeof module||Object(module)!==module?"undefined"==typeof global?"undefined"==typeof window||(window.TrimId=c):global.TrimId=c:module.exports=c}();
